(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[351],{5876:function(e,a,t){Promise.resolve().then(t.bind(t,4319))},4319:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return l}});var n=t(7437),r=t(3303),s=t(2265);function l(e){let{params:a}=e,{id:t}=a,[l,i]=(0,s.useState)(null),[c,o]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{(async()=>{try{var e,a;let n=await r.Z.get("/product/".concat(t)),s=(null===(e=n.data)||void 0===e?void 0:e.data)||(null===(a=n.data)||void 0===a?void 0:a.Data)||n.data;i(s)}catch(e){i(null)}finally{o(!1)}})()},[t]),c)?(0,n.jsx)("main",{className:"p-6",children:"Y\xfcklənir..."}):l?(0,n.jsx)("main",{className:"mx-auto max-w-4xl p-6",children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsx)("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:l.mainImageUrl?(0,n.jsx)("img",{src:l.mainImageUrl,alt:l.name,className:"w-full h-full object-cover"}):null}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold mb-2",children:l.name}),(0,n.jsxs)("div",{className:"text-blue-700 text-xl font-bold mb-4",children:[l.price," ₼"]}),(0,n.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:l.description})]})]})}):(0,n.jsx)("main",{className:"p-6",children:"Məhsul tapılmadı"})}},3303:function(e,a,t){"use strict";t.d(a,{Z:function(){return u},d:function(){return c}});var n=t(8472);let r={NEXT_PUBLIC_API_BASE_URL:t(357).env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000"},s=n.Z.create({baseURL:"".concat(r.NEXT_PUBLIC_API_BASE_URL,"/api"),withCredentials:!0}),l=null,i=null;function c(e){var a,t;l=null!==(a=null==e?void 0:e.accessToken)&&void 0!==a?a:null,i=null!==(t=null==e?void 0:e.refreshToken)&&void 0!==t?t:null}s.interceptors.request.use(e=>{if(l){var a;e.headers=null!==(a=e.headers)&&void 0!==a?a:{},e.headers.Authorization="Bearer ".concat(l)}return e});let o=!1,d=[];s.interceptors.response.use(e=>e,async e=>{var a,t,s;let c=e.config;if((null===(a=e.response)||void 0===a?void 0:a.status)===401&&!c._retry&&i){c._retry=!0;try{if(!o){o=!0;let e=await n.Z.post("".concat(r.NEXT_PUBLIC_API_BASE_URL,"/api/auth/refresh-token"),{refreshToken:i},{headers:l?{Authorization:"Bearer ".concat(l)}:void 0}),a=(null===(t=e.data)||void 0===t?void 0:t.data)||(null===(s=e.data)||void 0===s?void 0:s.Data)||e.data,c=a.accessToken||a.AccessToken,u=a.refreshToken||a.RefreshToken||i;l=c,i=u,d.forEach(e=>e(c)),d=[]}return new Promise((e,a)=>{d.push(t=>{if(t){var r;c.headers=null!==(r=c.headers)&&void 0!==r?r:{},c.headers.Authorization="Bearer ".concat(t)}(0,n.Z)(c).then(e).catch(a)})})}catch(e){return d=[],o=!1,Promise.reject(e)}finally{o=!1}}return Promise.reject(e)});var u=s}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=5876)}),_N_E=e.O()}]);