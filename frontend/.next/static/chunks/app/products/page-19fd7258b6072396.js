(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[286],{1407:function(e,a,t){Promise.resolve().then(t.bind(t,2285))},2285:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return l}});var r=t(7437),n=t(3303),s=t(7138),i=t(2265);function l(){let[e,a]=i.useState([]),[t,l]=i.useState(!0);return(i.useEffect(()=>{(async()=>{try{var e,t,r;let s=await n.Z.get("/product/search",{params:{page:1,pageSize:12}}),i=(null===(e=s.data)||void 0===e?void 0:e.data)||(null===(t=s.data)||void 0===t?void 0:t.Data)||s.data,l=i.data||i.Data||(null==i?void 0:null===(r=i.data)||void 0===r?void 0:r.data)||[];a(l)}catch(e){a([])}finally{l(!1)}})()},[]),t)?(0,r.jsx)("main",{className:"p-6",children:"Y\xfcklənir..."}):(0,r.jsxs)("main",{className:"mx-auto max-w-6xl p-6",children:[(0,r.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Məhsullar"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(e=>(0,r.jsxs)(s.default,{href:"/products/".concat(e.id),className:"border rounded p-3 bg-white hover:shadow",children:[(0,r.jsx)("div",{className:"aspect-square bg-gray-100 mb-2 overflow-hidden",children:e.mainImageUrl?(0,r.jsx)("img",{src:e.mainImageUrl,alt:e.name,className:"w-full h-full object-cover"}):null}),(0,r.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-blue-700 font-semibold",children:[e.price," ₼"]})]},e.id))})]})}},7138:function(e,a,t){"use strict";t.d(a,{default:function(){return n.a}});var r=t(231),n=t.n(r)},3303:function(e,a,t){"use strict";t.d(a,{Z:function(){return u},d:function(){return o}});var r=t(8472);let n={NEXT_PUBLIC_API_BASE_URL:t(357).env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000"},s=r.Z.create({baseURL:"".concat(n.NEXT_PUBLIC_API_BASE_URL,"/api"),withCredentials:!0}),i=null,l=null;function o(e){var a,t;i=null!==(a=null==e?void 0:e.accessToken)&&void 0!==a?a:null,l=null!==(t=null==e?void 0:e.refreshToken)&&void 0!==t?t:null}s.interceptors.request.use(e=>{if(i){var a;e.headers=null!==(a=e.headers)&&void 0!==a?a:{},e.headers.Authorization="Bearer ".concat(i)}return e});let c=!1,d=[];s.interceptors.response.use(e=>e,async e=>{var a,t,s;let o=e.config;if((null===(a=e.response)||void 0===a?void 0:a.status)===401&&!o._retry&&l){o._retry=!0;try{if(!c){c=!0;let e=await r.Z.post("".concat(n.NEXT_PUBLIC_API_BASE_URL,"/api/auth/refresh-token"),{refreshToken:l},{headers:i?{Authorization:"Bearer ".concat(i)}:void 0}),a=(null===(t=e.data)||void 0===t?void 0:t.data)||(null===(s=e.data)||void 0===s?void 0:s.Data)||e.data,o=a.accessToken||a.AccessToken,u=a.refreshToken||a.RefreshToken||l;i=o,l=u,d.forEach(e=>e(o)),d=[]}return new Promise((e,a)=>{d.push(t=>{if(t){var n;o.headers=null!==(n=o.headers)&&void 0!==n?n:{},o.headers.Authorization="Bearer ".concat(t)}(0,r.Z)(o).then(e).catch(a)})})}catch(e){return d=[],c=!1,Promise.reject(e)}finally{c=!1}}return Promise.reject(e)});var u=s}},function(e){e.O(0,[472,231,971,23,744],function(){return e(e.s=1407)}),_N_E=e.O()}]);